<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
ES6新增了Set结构，用于都是存储不重复的成员值，
提供了一些方法和属性供开发者使用；类似的结构还有WeakSet结构，
不同点是后者的成员必须是对象类型，且不支持遍历操作。
</body>
<script>
    window.onload = function(){
        demo11();
    }

    function demo11(){
        let arr1 = [1];
        let arr2 = [2];    //初始化一个WeakSet对象,参数是数组类型
        let ws = new WeakSet([arr1,arr2]);    //结果：WeakSet {Object {age: 18}}
        console.log(ws);
    }

    // WeakSet结构同样不会存储重复的值，不同的是，它的成员必须是对象类型的值。
    // （严格来说是：具有 iterable 接口的对象）
    function demo10(){
        //初始化一个WeakSet对象
        let ws = new WeakSet([{"age":18}]);
        //结果：WeakSet {Object {age: 18}}
    }

    function demo9(){
        //目标数组arr，要求去重
        let arr = [1,2,2,3,4,4,4];
        let s = new Set(arr);
        //结果：Set {1,2,3,4}
        console.log(s);
        let newArr = Array.from(s);
        //结果：[1,2,3,4],完成去重
        console.log(newArr)
    }

    function demo8(){
        //用数组作为参数初始化
        var s = new Set(['a','b','c']);
        //使用回调函数遍历每个成员
        s.forEach(function(value,key){
            console.log(value,key)
        });
        //打印结果： a  a
        //         b  b
        //         c  c
    }

    function demo7(){
        //用数组作为参数初始化
        var s = new Set(['a','b','c']);
        //用for...of遍历
        for(let [i,v] of s.entries()){
            console.log(i+' '+v);
        }
        //打印结果： a  a
        //         b  b
        //         c  c
    }

    function demo6() {
        //用数组作为参数初始化
        var s = new Set(['a','b','c']);
        s.keys();    //结果：SetIterator {"a", "b", "c"}
        s.values();    //结果：SetIterator {"a", "b", "c"}
    }

    function demo5(){
        //用数组作为参数初始化
        var s = new Set(['a','b','c']);
        console.log(s.entries());    //结果：SetIterator {["a", "a"], ["b", "b"], ["c", "c"]}
    }

    function demo4(){
        //用数组作为参数初始化
        var s = new Set([1,2,3]);
        console.log(s.has(1));//结果：true
        console.log(s.has(4));//结果：false
    }

    function demo3(){
        //用数组作为参数初始化
        var s = new Set([1,2,3]);
        console.log(s);    //打印结果：Set {1, 2, 3}
        s.clear();
        console.log(s);    //打印结果：Set {}
    }

    function demo2(){
        let s = new Set([1,2,3,4]);
        console.log(s.size); //结果：4 chrmoe不支持let  firfox可以

        //用数组作为参数初始化
        var ss = new Set([1,2,3]);
        console.log(ss);    //打印结果：Set {1, 2, 3}
        // 使用delete方法删除指定值
        ss.delete(2);//结果：true

        ss.delete(4);//结果：false
        console.log(ss);    //打印结果：Set {1, 3}
    }

    function demo1() {
        var s = new Set();
        console.log(s);    //打印结果：Set {}

        var s = new Set([1, 2, 3]);
        console.log(s);    //打印结果：Set {1, 2, 3}
        /*
         不过，为Set 结构添加成员值的时候，要注意一点是，
         set结构的成员值是没有重复的，每个值都是唯一的，
         如果人为地给它添加相同的成员值
         */
        var s = new
                Set();
            //使用add方法添加成员
        s.add(1)
        ;
        s.
                add(1);
        s.add(2);
        s.add(3);
        console.log(s);    //打印结果：Set {1, 2, 3}
        console.log(s.size);//3
    }
</script>
</html>